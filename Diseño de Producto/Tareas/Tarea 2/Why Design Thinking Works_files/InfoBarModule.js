try{void 0!==window.QSI.InfoBar&&!window.QTest||(QSI.InfoBar=QSI.util.Creative(QSI.BuildElementModule,{initialize:function(t){this.globalInitialize(t),this.shouldAnchor=!0,this.removed=!1,this.infoBarOptions=this.options.infoBarOptions||{},this.position="top",this.insertIntoBody=this.options.displayOptions.insertIntoBody,this.animate=void 0===this.options.displayOptions.animate||!0===this.options.displayOptions.animate,this.shouldShow()&&this.display()},display:function(){this.options.elements?(this.elements=this.options.elements.Elements||[],QSI.util.processLocators(this.elements,this.displayOptions),this.bar=this.build(),this.width&&this.height&&(this.options.size={width:this.width,height:this.height})):this.infoBarOptions&&(this.options.locators&&(QSI.PipedText.setLocators(this.options.locators),this.infoBarOptions.content=QSI.PipedText.evaluateLocators(this.infoBarOptions.content,this.displayOptions)),this.bar=this.buildLegacy());var t=this;QSI.util.when(QSI.util.getTimeout(this.displayOptions.delay)).done(function(){t.removed||(t.popup(),t.poppedUp=!0)})},popup:function(){try{var t=this;this.resetStyles();var i=1e3*this.displayOptions.close;0!=i&&this.displayed.done(function(){window.setTimeout(function(){try{t.close()}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}},i)}),document.body.appendChild(this.bar);var o={x:0,y:0},s=QSI.util.getDimensions(this.bar).height;if(this.bar.style.zIndex=QSI.global.currentZIndex++,this.options.elements)this.animate&&this.insertIntoBody&&(this.bar.style.height=0);else{var e=this.infoBarClose.offsetHeight;QSI.util.$(this.infoBarClose).style.top=s/2-e/2+"px",this.position=this.infoBarOptions.position}var n,h=-s;if(this.insertIntoPage||(h=-this.height),"bottom"===this.position?(this.bar.style.bottom=h+"px",this.bar.style.top="auto"):this.bar.style.top=h+"px",this.bar.style.left=o.x,this.target=o,this.insertIntoBody)if("top"===this.position){this.bar.style.top="auto";var r=document.body.firstChild;document.body.insertBefore(this.bar,r)}else this.bar.style.bottom="auto",document.body.appendChild(this.bar);this.initializeIframes(),n=this.animate?1500:0,this.bar.loadingDeferred.done(function(){t.slide(n)})}catch(t){QSI.dbg.e(t)}},getYPosition:function(t){return"bottom"===this.position?parseInt(t.bottom,10):1*t.top},buildLegacy:function(){this.infoBarInner=QSI.util.build("div",{className:"InfoBarInner",style:{margin:"10px"}}),QSI.global.enableJSSanitization&&void 0!==QSI.DOMPurify&&(this.infoBarOptions.content=QSI.DOMPurify.sanitize(this.infoBarOptions.content)),this.infoBarInner.innerHTML=this.infoBarOptions.content,this.infoBarClose=QSI.util.build("img",{className:"InfoBarClose",src:QSI.global.imagePath+"/siteintercept/square_x.png",style:{right:"12px",position:"absolute",top:"5px",cursor:"pointer"},alt:"Close"});var t="fixed";QSI.util.isFixed()||(t="absolute");this.infoBarOuter=QSI.util.build("div",{className:"QSIInfoBar InfoBarOuter",style:{backgroundColor:this.infoBarOptions.color,position:t,top:"0px",left:"0px",width:"100%",cursor:"pointer",zIndex:QSI.global.currentZIndex++}},[this.infoBarInner,this.infoBarClose]);var i=this;return this.infoBarOuter.onclick=function(){i.onTargetClick()},this.infoBarClose.onclick=function(t){(t=t||window.event).cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),i.onCloseClick()},this.infoBarOuter},build:function(){var t=[],i=0,o=0,s=0,e=[];this.position=this.getAnchorPosition(this.elements);for(var n=0,h=this.elements.length;n<h;n++){var r=this.buildElement(this.elements[n]);r&&(r.style&&r.style.borderWidth&&(s=2*parseInt(r.style.borderWidth,10)),r.bc&&r.bc.x+s>i&&(i=r.bc.x+s),r.bc&&r.bc.y+s>o&&(o=r.bc.y+s),t.push(r),e.push(r.loadingDeferred))}this.width=i,this.height=o;var a="fixed";QSI.util.isFixed()?this.insertIntoBody&&(a="relative"):a="absolute";var l=this.height,d=QSI.util.build("div",{className:"QSIInfoBar "+this.id+"_InfoBarContainer",style:{width:"100%",height:l+"px",overflow:"hidden",position:a}},t);return d.loadingDeferred=QSI.util.when.apply(this,e),d},getAnchorPosition:function(t){if(!t)return"top";for(var i=0;i<t.length;i++)if(t[i]&&"Span"===t[i].type&&t[i].positionAnchors&&t[i].positionAnchors.positionY)return t[i].positionAnchors.positionY;return"top"},close:function(){try{this.removed=!0,QSI.util.remove(this.bar),this.cleanupImpressElement(),QSI.callbacks[this.id].onClose&&QSI.callbacks[this.id].onClose()}catch(t){}},onCloseClick:function(){this.close()},slide:function(t){var i=this,o={};this.insertIntoBody?o.height=this.height:o[this.position]=0,QSI.Animation.animateStyle(this.bar,o,t,"inquad").done(function(){i.finish()})},finish:function(){this.impress(),this.displayed.resolve(),QSI.util.isFixed()||QSI.util.positionFixed(this.bar,0,"auto")},inquad:function(t){return t*t}}))}catch(t){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(t)}